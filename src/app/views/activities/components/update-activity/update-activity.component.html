<div>
    <h1>Activity Update</h1>
    <form [formGroup]="updateActivityForm" (ngSubmit)="updateActivity()">

        <div class="form-group">
            <label>Activity name:</label>
            <input type="text" [formControl]="name"/>
            <span style="color: red;" *ngIf="updateActivityForm.get('name').errors && (updateActivityForm.get('name').touched || updateActivityForm.get('name').dirty) ">
                <span *ngIf="updateActivityForm.get('name').errors.required">Activity name is required</span>
                <span *ngIf="updateActivityForm.get('name').errors.minlength || updateActivityForm.get('name').errors.maxlength">El camp ha de contenir entre 3 i 55 caràcters</span>
            </span>
        </div>

        <div class="form-group">
            <label>Activity category:</label>
            <select [formControl]="category" (change)="changeCategory($event)">
                <option value="Cultura i patrimoni">Cultura i patrimoni</option>
                <option value="Enoturisme">Enoturisme</option>
                <option value="Platja">Platja</option>
            </select>
        </div>

        <div *ngIf="category.value === 'Cultura i patrimoni'" class="form-group">
            <label>Activity subcategory:</label>
            <select [formControl]="subcategory">
                <option>Concert</option>
                <option>Espectacle</option>
                <option>Excursió</option>
                <option>Festivals</option>
                <option>Visita guiada</option>
                <option>Museu</option>
                <option>Monument</option>
            </select>
        </div>
        <div *ngIf="category.value === 'Enoturisme'" class="form-group">
            <label>Activity subcategory:</label>
            <select [formControl]="subcategory">
                <option>Bodega</option>
                <option>Tast de productes</option>
                <option>Excursió</option>
                <option>Museu del vi</option>
                <option>Visita guiada</option>
            </select>
        </div>
        <div *ngIf="category.value === 'Platja'" class="form-group">
            <label>Activity subcategory:</label>
            <select [formControl]="subcategory">
                <option>Activitat nàutica</option>
                <option>Cala</option>
                <option>Concert</option>
                <option>Excursió</option>
                <option>Taller</option>
            </select>
        </div>

        <div class="form-group">
            <label>Activity description:</label>
            <input type="text" [formControl]="description"/>
        </div>

        <div class="form-group">
            <label>Activity language:</label>
            <select [formControl]="language">
                <option>Anglès</option>
                <option>Català</option>
                <option>Castellà</option>
                <option>Francès</option>
                <option>Alemany</option>
            </select>
        </div>

        <div class="form-group">
            <label>Activity date:</label>
            <input type="string" [formControl]="date"/>
            <span style="color: red;" *ngIf="updateActivityForm.get('date').errors && (updateActivityForm.get('date').touched || updateActivityForm.get('date').dirty) ">
                <span *ngIf="updateActivityForm.get('date').errors.pattern"> Activity date must be like DD/MM/YYYY</span>
            </span>
        </div>
        <div class="form-group">
            <label>Activity price:</label>
            <input type="number" [formControl]="price"/>
            <span style="color: red;" *ngIf="updateActivityForm.get('price').errors && (updateActivityForm.get('price').touched || updateActivityForm.get('price').dirty) ">
                <span *ngIf="updateActivityForm.get('price').errors.required">Activity price is required</span>
                <span *ngIf="updateActivityForm.get('price').errors.min">El preu no pot ser negatiu</span>
            </span>
        </div>
        <div class="form-group">
            <label>Activity minCapacity:</label>
            <input type="number" [formControl]="minCapacity"/>
            <span style="color: red;" *ngIf="updateActivityForm.get('minCapacity').errors && (updateActivityForm.get('minCapacity').touched || updateActivityForm.get('minCapacity').dirty) ">
                <span *ngIf="updateActivityForm.get('minCapacity').errors.required">Activity minimum capacity is required</span>
                <span *ngIf="updateActivityForm.get('minCapacity').errors.min">El mínim de capacitat ha de ser 0</span>
            </span>
        </div>
        <div class="form-group">
            <label>Activity limitCapacity:</label>
            <input type="number" (ngModelChange)="calculateState()" [formControl]="limitCapacity"/>
            <span style="color: red;" *ngIf="updateActivityForm.get('limitCapacity').errors && (updateActivityForm.get('limitCapacity').touched || updateActivityForm.get('limitCapacity').dirty) ">
                <span *ngIf="updateActivityForm.get('limitCapacity').errors.required">Activity limit capacity is required</span>
                <span *ngIf="updateActivityForm.get('limitCapacity').errors.min">El límit de capacitat no pot ser negatiu</span>
            </span>
        </div>
        <div class="form-group">
            <label>Activity state:</label>
            <input type="string" value={{this.state}} readonly/>
        </div>
        <button type="button" (click)="cancelActivity()">Cancel·lar l'activitat</button>
       <div class="form-group">
            <button type="submit" [disabled]="!updateActivityForm.valid">Update activity</button>
        </div>
    </form>
</div>







